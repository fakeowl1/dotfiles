#!/bin/bash

source student.env

# Display Help
echo "lab-gen - Automaticaly create a lab report"
echo

read -p "Enter a discipline: " discipline
echo
read -p "Enter an instructor name: " instructor
echo
read -p "Enter a number of work: " number

templatesPath="$HOME/.templates"
reportPath="$PWD/report.tex"

cp "$templatesPath/lab_report.tex" report.tex
cp "$templatesPath/lab_template.tex" template.tex

mkdir assets

sed -i "s/<discipline>/$discipline/g" "$reportPath"
sed -i "s/<labnumber>/$number/g" "$reportPath"
sed -i "s/<studentname>/$STUDENT/g" "$reportPath"
sed -i "s/<studentgroup>/$STUDENT_GROUP/g" "$reportPath"
sed -i "s/<studentnumber>/$STUDENT_NUMBER/g" "$reportPath"
sed -i "s/<instructorname>/$instructor/g" "$reportPath"

pdflatex $reportPath
nvim $reportPath
